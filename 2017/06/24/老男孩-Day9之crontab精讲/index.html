<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>老男孩-day9之crontab定时任务-精讲 | Gary Wu</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
  <meta name="keywords" content="Linux基础crontab" />
  
  
  
  
  <meta name="description" content="cron是系统主要的调度进程，可以在无需人工干预的情况下运行作业。 crontab命令用于设置周期性被执行的指令。可以使用它在每天的非高峰负荷时间段运行作业，或在一周或一月中的不同时段运行。">
<meta name="keywords" content="Linux基础,crontab">
<meta property="og:type" content="article">
<meta property="og:title" content="老男孩-Day9之crontab定时任务-精讲">
<meta property="og:url" content="https://wuyanteng.github.io/2017/06/24/老男孩-Day9之crontab精讲/index.html">
<meta property="og:site_name" content="Gary Wu">
<meta property="og:description" content="cron是系统主要的调度进程，可以在无需人工干预的情况下运行作业。 crontab命令用于设置周期性被执行的指令。可以使用它在每天的非高峰负荷时间段运行作业，或在一周或一月中的不同时段运行。">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2017-06-26T03:33:05.031Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="老男孩-Day9之crontab定时任务-精讲">
<meta name="twitter:description" content="cron是系统主要的调度进程，可以在无需人工干预的情况下运行作业。 crontab命令用于设置周期性被执行的指令。可以使用它在每天的非高峰负荷时间段运行作业，或在一周或一月中的不同时段运行。">
  
    <link rel="alternate" href="/atom.xml" title="Gary Wu" type="application/atom+xml">
  

  

  <link rel="icon" href="/css/images/mylogo.jpg">
  <link rel="apple-touch-icon" href="/css/images/mylogo.jpg">
  
  <link href="https://fonts.googleapis.com/css?family=Open+Sans|Montserrat:700" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Roboto:400,300,300italic,400italic" rel="stylesheet" type="text/css">
  <link href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">
  <style type="text/css">
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/9749f0/00000000000000000001008f/27/l?subset_id=2&fvd=n5) format("woff2");font-weight:500;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/90cf9f/000000000000000000010091/27/l?subset_id=2&fvd=n7) format("woff2");font-weight:500;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/8a5494/000000000000000000013365/27/l?subset_id=2&fvd=n4) format("woff2");font-weight:lighter;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/d337d8/000000000000000000010095/27/l?subset_id=2&fvd=i4) format("woff2");font-weight:400;font-style:italic;}</style>
  <link rel="stylesheet" href="/css/style.css">

  <script src="/js/jquery-3.1.1.min.js"></script>
  <script src="/js/bootstrap.js"></script>

  <!-- Bootstrap core CSS -->
  <link rel="stylesheet" href="/css/bootstrap.css" >

  
    <link rel="stylesheet" href="/css/dialog.css">
  

  

  
    <link rel="stylesheet" href="/css/header-post.css" >
  

  
  
  

</head>



  <body data-spy="scroll" data-target="#toc" data-offset="50">


  
  <div id="container">
    <div id="wrap">
      
        <header>

    <div id="allheader" class="navbar navbar-default navbar-static-top" role="navigation">
        <div class="navbar-inner">
          
          <div class="container"> 
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>

            
              <a class="brand" style="
                 margin-top: 0px;"  
                href="#" data-toggle="modal" data-target="#myModal" >
                  <img width="124px" height="124px" alt="Hike News" src="/css/images/mylogo.jpg">
              </a>
            
            
            <div class="navbar-collapse collapse">
              <ul class="hnav navbar-nav">
                
                  <li> <a class="main-nav-link" href="/">首页</a> </li>
                
                  <li> <a class="main-nav-link" href="/archives">归档</a> </li>
                
                  <li> <a class="main-nav-link" href="/categories">分类</a> </li>
                
                  <li> <a class="main-nav-link" href="/tags">标签</a> </li>
                
                  <li> <a class="main-nav-link" href="/about">关于</a> </li>
                
                  <li><div id="search-form-wrap">

    <form class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="" />
        <button type="submit" class="search-form-submit"></button>
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="请输入关键词..." />
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: '文章',
            PAGES: '页面',
            CATEGORIES: '分类',
            TAGS: '标签',
            UNTITLED: '(无标题)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
<script src="/js/insight.js"></script>

</div></li>
            </div>
          </div>
                
      </div>
    </div>

</header>



      
            
      <div id="content" class="outer">
        
          <section id="main" style="float:none;"><article id="post-老男孩-Day9之crontab精讲" style="width: 75%; float:left;" class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" class="article-title" itemprop="name">
      老男孩-Day9之crontab定时任务-精讲
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2017/06/24/老男孩-Day9之crontab精讲/" class="article-date">
	  <time datetime="2017-06-24T01:32:21.000Z" itemprop="datePublished">2017-06-24</time>
	</a>

      
      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <blockquote>
<p>cron是系统主要的调度进程，可以在无需人工干预的情况下运行作业。</p>
<p>crontab命令用于设置周期性被执行的指令。可以使用它在每天的非高峰负荷时间段运行作业，或在一周或一月中的不同时段运行。</p>
<a id="more"></a>
<p>crontab命令允许用户提交、编辑或删除相应的作业。每一个用户都可以有一个crontab文件来保存调度信息。系统管理员可以通过cron.deny 和 cron.allow 这两个文件来禁止或允许用户拥有自己的crontab文件。</p>
</blockquote>
<h4 id="关闭系统服务-命令拼接方式（暂时不使用循环方式）"><a href="#关闭系统服务-命令拼接方式（暂时不使用循环方式）" class="headerlink" title="关闭系统服务-命令拼接方式（暂时不使用循环方式）"></a>关闭系统服务-命令拼接方式（暂时不使用循环方式）</h4><pre><code>chkconfig  |egrep -v &quot;crond|network/syslog|sshd|sysstat&quot; 排除这5个服务

chkconfig  |egrep -v &quot;crond|network/syslog|sshd|sysstat&quot; |awk &#39;{print $1}&#39; 

chkconfig  |egrep -v &quot;crond|network/syslog|sshd|sysstat&quot; |awk &#39;{print &quot;chkconfig &quot;$1&quot; off&quot;}&#39;
在结果中的前面和后面输入我们想要的字符【只是按照我们的意愿显示了出来，但并没有真正执行】

chkconfig  |egrep -v &quot;crond|network/syslog|sshd|sysstat&quot; |awk &#39;{print &quot;chkconfig &quot;$1&quot; off&quot;}&#39;|bash
把结果交给bash执行
</code></pre><pre><code>chkconfig |egrep -v &quot;crond|network|rsyslog|sshd|sysstat&quot; |awk &#39;{print &quot;chkconfig &quot;$1&quot; on&quot;}&#39;|bash
开启服务

[root@oldboy202 ~]# chkconfig |grep 3:on
查看已经在命令行模式下启动的服务

拼接命令-联系
老男孩教育每日一题-第74天-批量重命名
http://lidao.blog.51cto.com/3388056/1940039
</code></pre><h4 id="crontab分类"><a href="#crontab分类" class="headerlink" title="crontab分类"></a>crontab分类</h4><pre><code>1.系统使用的定时任务，如: ls -ld /etc/cron* [一般中病毒的时候会用到系统的定时任务]
   /etc/cron.hourly 每小时运行的任务
   /etc/cron.daily  每天运行的任务
   /etc/cron.deny   哪些用户禁止使用定时任务

2.用户的定时任务（crontab）
  crontab  --help 查看帮助

  crontab -l 查看用户的定时任务
  【比如: crontab -u garywu -l 查看garywu的cron任务】

  crontab -e 编辑定时任务
  【比如: crontab -u root -e 编辑root的定时任务；crontab -u gary -e编辑gary用户的cron任务】

  crontab -r //删除某个用户的cron定时任务【工作中慎用！！！】
  【比如：crontab -u gary -r 想删除gary的cron设置】

  注：crontab命令实际上修改的文件是“/var/spool/cron/当前用户名” , 每次编辑完某个用户的cron设置后，cron自动在/var/spool/cron下生成一个与此用户同名的文件。

  问题：为什么要使用crontab命令，而不直接修改文件？
        （1）有语法检查功能  （2）方便
</code></pre><h4 id="crond进程检查"><a href="#crond进程检查" class="headerlink" title="crond进程检查"></a>crond进程检查</h4><pre><code>先确认crond服务是否正在运行
/etc/init.d/crond status  先确认crond服务是否启动

ps -ef |grep crond        查看系统中正在运行的进程
UID（谁在运行）  PID进程号  PPID                                进程名称
root             1361      1     0 May20 ?        00:00:01     crond
root             15214    15043  0 18:53 pts/0    00:00:00     grep crond

ps -aux |grep crond
crontab -u oldboy -l  root查看oldboy用户的定时任务
</code></pre><h4 id="定时任务日志（cron排错日志）"><a href="#定时任务日志（cron排错日志）" class="headerlink" title="定时任务日志（cron排错日志）"></a>定时任务日志（cron排错日志）</h4><pre><code>定时任务的日志：/var/log/cron

工作中对于日志，尽量不使用cat 、vi/vim，因为日志量很大，会直接卡死

建议使用grep或head或tail或lest或tailf ; tailf用来查看实时更新的日志 
</code></pre><h4 id="定时任务详解"><a href="#定时任务详解" class="headerlink" title="定时任务详解"></a>定时任务详解</h4><pre><code>什么时间执行定时任务？

*  *  *  *  *      comand
分 时 日 月 周   运行的命令或脚本（强烈建议使用命令绝对路径,比如: /usr/sbin/ntpdate）

* 第1个*号表示分钟（0-59）
* 第2个*号表示小时（0-23）【注: 24小时制】
* 第3个*号表示日期（1-31）
* 第4个*号表示月份（1-12）【或者jan,feb，mar等月份简写】
* 第5个*号表示周几（0-6） 【周日可以使用0或者7】

注意: 半夜12：00使用 00 00来表示
</code></pre><h4 id="定时任务中的常用符号"><a href="#定时任务中的常用符号" class="headerlink" title="定时任务中的常用符号"></a>定时任务中的常用符号</h4><pre><code>#     井号,表示注释，不会被处理
*     在定时任务中表示 “每”，比如每分钟、每天、每月等
/n    比如：*/10 * * * * ，意思是每隔10分钟
-     减号表示从哪里来到哪里结束。比如: 每天的17点-19点运行cmd
,     表示分隔，比如:  30 3-5,17-19 * * * cmd
2&gt;&amp;1  意思是把标准错误输出重定向到标准输出
/dev/null  黑洞，运行日志直接丢弃。标准输出和标准错误都重定向到了/dev/null
</code></pre><h4 id="示例："><a href="#示例：" class="headerlink" title="示例："></a>示例：</h4><pre><code class="shell">(1)每隔两分钟把自己的名字输出到/tmp/oldboy.txt
    # print name
    */2 * * * *  echo &quot;wuyanteng&quot; &gt;&gt; /tmp/oldboy.log

(2) 每天的17-19点的整点，执行cmd 【结果是 17:00 18:00 19:00执行】
    00 17-19 * * * cmd
    或
    00 17,18,19 * * * cmd

(3) 每天的3到5点还有17点到19点的半点执行脚本 cmd
    30 3-5,17-19 * * * cmd
    或
    30 3,4,5,17,18,19 * * * cmd     【了解即可，不推荐作为常用】

(4) 每5分钟更新/同步系统的时间
    */5 * * * * ntpdate ntp1.aliyun.com &gt;&gt; /tmp/ntpdate.log 2&gt;&amp;1 
    # log文件放入/tmp/ntpdate.log文件中。

     */5 * * * * ntpdate ntp1.aliyun.com &gt;&gt; /dev/null 2&gt;&amp;1      
     # log文件直接丢弃放入/dev/null黑洞

    要求：记住2个常用ntp服务器： ntp1.aliyun.com
                               pool.ntp.org

(5) 每个月的4号和每周的周一到周三的早上11点执行一次重启sshd服务
    00 11 4 * 1-3 /etc/init.d/sshd restart &gt;&gt;/dev/null 2&gt;&amp;1

(6) 每月1、10、22日的4 : 45重启httpd
    45 4 1,10,22 * * /etc/init.d/httpd restart &gt;&gt;/usr/local/Apache_service.log 2&gt;&amp;1

(7) 每月的1-5号8:30和9:30刷新DNS缓存
     30 8,9 1-5 * * unbound-control reload

(8) 在8:03,11:03,14:03,17:03,20:03 执行pwd
     3 8-20/3 * * *  pwd &gt;&gt;/dev/null 2&gt;&amp;1

(9) 每周六、日上午9:00和下午14：00 执行程序/server/script/oldboy.sh)。
      00 9,14 * * 0,6 /bin/sh /server/script/oldboy.sh &gt;&gt;/dev/null 2&gt;&amp;1 

(10) 每隔2个小时将/etc/services文件打包备份到/tmp下（最好每次备份成不同的备份包）。
      00 */2 * * * /bin/tar zcf /tmp/etc-services-$(date +\%F_\%H).tar.gz  /etc/services &gt;&gt; /tmp/tar.log 2&gt;&amp;1

扩展：      
00 */2 * * * /bin/tar zcf /tmp/etc-services-`date +\%F_\%H`.tar.gz  /etc/services &gt;&gt; /tmp/tar.log 2&gt;&amp;1

[1] ``    英文的反引号(Esc键)也可以调用时间
[2] date +\%F_\%H  把时间精确到小时
[3] 注: %号在定时任务里面有特殊含义(表示“回车操作”)，所以需要使用转义符\（撬棍）
</code></pre>
<h4 id="企业案例1-错误：You-have-new-mail-in-var-spool-mail-root"><a href="#企业案例1-错误：You-have-new-mail-in-var-spool-mail-root" class="headerlink" title="企业案例1-错误：You have new mail in /var/spool/mail/root"></a>企业案例1-错误：You have new mail in /var/spool/mail/root</h4><pre><code>如果cron定时任务不定向到空（/dev/null）或指定文件，很容易导致硬盘inode空间被占满，从而系统服务不正常。

常见错误： You have new mail in /var/spool/mail/root

原因：邮件软件服务开启后，定时任务没定向到空（/dev/null）或指定文件，然后不断的给root用户发邮件

注：postfix软件的服务如果没有开启（大量小文件堆积在/var/spool/postfix/maildrop/）
【同时也会导致inode被占满，一个文件占用1个inode，4k文件占用一个bloc】
</code></pre><h4 id="企业案例2-tmp目录文件清理"><a href="#企业案例2-tmp目录文件清理" class="headerlink" title="企业案例2-/tmp目录文件清理"></a>企业案例2-/tmp目录文件清理</h4><pre><code>inode满了，清除/tmp目录小文件，删除报错：

方法1：
      cd /tmp 
      rm -rf *
      注： rm -f * 命令报错： -bash: /bin/rm: Argument list too long【使用下面方法即可】

方法2：ls /tmp |xargs rm

</code></pre><h4 id="企业案例3-crontab-执行java脚本错误"><a href="#企业案例3-crontab-执行java脚本错误" class="headerlink" title="企业案例3-crontab 执行java脚本错误"></a>企业案例3-crontab 执行java脚本错误</h4><pre><code>crontab执行java脚本报错：java里面缺少PATH变量，java找不到对应的命令位置。

解决方法在脚本里面添加java环境变量。
</code></pre><h4 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h4><pre><code>1. 每条定义的定时任务善于添加注释行，方便日后维护
2. 定时任务中，善于使用命令的绝对路径（使用which来查看命令的绝对路径）
3. 尽量在cron中去定期运行脚本而不是很多命令
4. 尽量使用/bin/sh去解释脚本，如：/bin/sh  print_ip.sh 
5. 定时任务中-命令或脚本结果（正确及错误）定向到空（/dev/null）或定向到指定文件中。
6. 
</code></pre><h4 id="扩展1-vim命令"><a href="#扩展1-vim命令" class="headerlink" title="扩展1: vim命令"></a>扩展1: vim命令</h4><pre><code>dG(d+shift+g) 删除当前行的内容，到最后一行一行的内容
yy    复制
dd    删除/剪切
p     粘贴
5dd    从当前行开始计算，向下删除5行（包含当前行）。即ndd
yy100n 粘贴n次 
yy100p 复制当前行，同时粘贴100次
100u   撤销100行的操作
u     撤销
:wq   保存退出
:q!   不保存，强制退出
:set nu 显示行号
G（shift+g） 快速到达文件的最后一行
10G    快速到达第10行
gg     快速到达文件第一行
100gg  快速到达第100行
o     （小o）在当前行的下面插入一行并进入编辑模式
^或0   快速移动到当前行的行首
$      快速移动到当前行的行尾
/ssh   查找/搜索ssh字符（n继续往下查找, N向上查找）

:h p    vim查看帮助
:h gg   查找gg的帮助
:h dG   查找dG的帮助
</code></pre><h4 id="扩展2-while死循环执行命令"><a href="#扩展2-while死循环执行命令" class="headerlink" title="扩展2: while死循环执行命令"></a>扩展2: while死循环执行命令</h4><pre><code># vim ntpdate.sh
  sleep 300;          //300秒，即5分钟执行一次
  #!/bin/sh
  while true
  do
      /usr/sbin/ntpdate ntp1.aliyun.com &gt;&gt; /root/ntp_gary.log 2&gt;&amp;1 
  sleep 1
  done

# bash ntpdate.sh
</code></pre><h4 id="扩展3-查看ip-地址"><a href="#扩展3-查看ip-地址" class="headerlink" title="扩展3: 查看ip 地址"></a>扩展3: 查看ip 地址</h4><pre><code>ip address

ip address show eth0 
</code></pre><h4 id="正则命令回顾"><a href="#正则命令回顾" class="headerlink" title="正则命令回顾"></a>正则命令回顾</h4><pre><code>echo -e &quot;\na\tb\na&quot;      -e参数让echo支持转义符; \n 换行 ； \t  表示tab键，约8个字符长度的区域
</code></pre><pre><code>^$表示空行
要求：查看services文件（不显示空行）
egrep -v &quot;^$&quot; /etc/services
sed  &#39;/^$/d&#39; /etc/services
awk &#39;!/^$/&#39; /etc/services

[^t] 除了包含t的行
^[^t] 除了以t开头的行
</code></pre><h6 id="正则-取IP地址【排除方式】"><a href="#正则-取IP地址【排除方式】" class="headerlink" title="正则-取IP地址【排除方式】"></a>正则-取IP地址【排除方式】</h6><pre><code>[root@oldboy202 scripts]# ifconfig eth0 |awk -F &#39;[^0-9.]+&#39; &#39;NR==2{print $2}&#39;
10.0.0.202

注：[^0-9.]+  表示除了连续的0-9和点
    NR==2 取行
    {print $2}取第二列
</code></pre><h6 id="取出passwd-第一列【正反方式】"><a href="#取出passwd-第一列【正反方式】" class="headerlink" title="取出passwd 第一列【正反方式】"></a>取出passwd 第一列【正反方式】</h6><pre><code>head /etc/passwd &gt;passwd  拷贝passwd文件用于环境测试

[root@oldboy202 ~]# egrep -o &quot;^[a-z0-9A-Z_-]+&quot; passwd   
root
bin
daemon
adm
lp
查找连续以0-9、a-z、A-Z以及下划线&quot;_&quot;和减号&quot;-&quot;开头的行,注意：减号“-”必须放在最后，否则报错

[root@oldboy202 ~]# egrep -o &quot;^[^:]+&quot; passwd        除了以连续:冒号开头的行
root
bin
daemon
adm
lp
sync


[root@oldboy202 ~]# egrep  -o &quot;[^:]+$&quot; passwd     除了以连续冒号:为结尾的行
/bin/bash
/sbin/nologin
/sbin/nologin
/sbin/nologin
/sbin/nologin
</code></pre>
      
    </div>
    <footer class="article-footer">
      
      
        
	<div id="comment">
		<!-- 来必力City版安装代码 -->
		<div id="lv-container" data-id="city" data-uid="MTAyMC8yOTQ4MS82MDQ5">
		<script type="text/javascript">
		   (function(d, s) {
		       var j, e = d.getElementsByTagName(s)[0];

		       if (typeof LivereTower === 'function') { return; }

		       j = d.createElement(s);
		       j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
		       j.async = true;

		       e.parentNode.insertBefore(j, e);
		   })(document, 'script');
		</script>
		<noscript>为正常使用来必力评论功能请激活JavaScript</noscript>
		</div>
		<!-- City版安装代码已完成 -->
	</div>



      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Linux基础/">Linux基础</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/crontab/">crontab</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2017/06/25/umount与-tmp-相爱相守/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">上一篇</strong>
      <div class="article-nav-title">
        
          crontab与/tmp-相爱相守
        
      </div>
    </a>
  
  
    <a href="/2017/06/23/RAID5工作原理/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">下一篇</strong>
      <div class="article-nav-title">RAID5工作原理</div>
    </a>
  
</nav>

  
</article>

<!-- Table of Contents -->

  <aside id="toc-sidebar">
    <div id="toc" class="toc-article">
    <strong class="toc-title">文章目录</strong>
    
        <ol class="nav"><li class="nav-item nav-level-4"><a class="nav-link" href="#关闭系统服务-命令拼接方式（暂时不使用循环方式）"><span class="nav-number">1.</span> <span class="nav-text">关闭系统服务-命令拼接方式（暂时不使用循环方式）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#crontab分类"><span class="nav-number">2.</span> <span class="nav-text">crontab分类</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#crond进程检查"><span class="nav-number">3.</span> <span class="nav-text">crond进程检查</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#定时任务日志（cron排错日志）"><span class="nav-number">4.</span> <span class="nav-text">定时任务日志（cron排错日志）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#定时任务详解"><span class="nav-number">5.</span> <span class="nav-text">定时任务详解</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#定时任务中的常用符号"><span class="nav-number">6.</span> <span class="nav-text">定时任务中的常用符号</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#示例："><span class="nav-number">7.</span> <span class="nav-text">示例：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#企业案例1-错误：You-have-new-mail-in-var-spool-mail-root"><span class="nav-number">8.</span> <span class="nav-text">企业案例1-错误：You have new mail in /var/spool/mail/root</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#企业案例2-tmp目录文件清理"><span class="nav-number">9.</span> <span class="nav-text">企业案例2-/tmp目录文件清理</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#企业案例3-crontab-执行java脚本错误"><span class="nav-number">10.</span> <span class="nav-text">企业案例3-crontab 执行java脚本错误</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#总结"><span class="nav-number">11.</span> <span class="nav-text">总结</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#扩展1-vim命令"><span class="nav-number">12.</span> <span class="nav-text">扩展1: vim命令</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#扩展2-while死循环执行命令"><span class="nav-number">13.</span> <span class="nav-text">扩展2: while死循环执行命令</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#扩展3-查看ip-地址"><span class="nav-number">14.</span> <span class="nav-text">扩展3: 查看ip 地址</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#正则命令回顾"><span class="nav-number">15.</span> <span class="nav-text">正则命令回顾</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#正则-取IP地址【排除方式】"><span class="nav-number">15.0.1.</span> <span class="nav-text">正则-取IP地址【排除方式】</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#取出passwd-第一列【正反方式】"><span class="nav-number">15.0.2.</span> <span class="nav-text">取出passwd 第一列【正反方式】</span></a></li></ol></li></ol></li></ol>
    
    </div>
  </aside>
</section>
        
      </div>
      
      <footer id="footer">
  

  <div class="container">
      	<div class="row">
	      <p> Powered by <a href="http://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/iTimeTraveler/hexo-theme-hiker" target="_blank">Hexo-theme-hiker</a> </p>
	      <p id="copyRightEn">Copyright &copy; 2013 - 2018 Gary Wu All Rights Reserved.</p>
	      
	      
  		   	<p id="copyRightCn">Gary Wu 保留所有权利</p>
  		   
		</div>

		
  </div>
</footer>


<!-- min height -->

<script>
    var wrapdiv = document.getElementById("wrap");
    var contentdiv = document.getElementById("content");
    var allheader = document.getElementById("allheader");

    wrapdiv.style.minHeight = document.body.offsetHeight + "px";
    if (allheader != null) {
      contentdiv.style.minHeight = document.body.offsetHeight - allheader.offsetHeight - document.getElementById("footer").offsetHeight + "px";
    } else {
      contentdiv.style.minHeight = document.body.offsetHeight - document.getElementById("footer").offsetHeight + "px";
    }
</script>
    </div>
    <!-- <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/categories" class="mobile-nav-link">Categories</a>
  
    <a href="/tags" class="mobile-nav-link">Tags</a>
  
    <a href="/about" class="mobile-nav-link">About</a>
  
</nav> -->
    

<!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/scripts.js"></script>




  <script src="/js/dialog.js"></script>














  </div>

  <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="display: none;">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title" id="myModalLabel">设置</h2>
      </div>
      <hr style="margin-top:0px; margin-bottom:0px; width:80%; border-top: 3px solid #000;">
      <hr style="margin-top:2px; margin-bottom:0px; width:80%; border-top: 1px solid #000;">


      <div class="modal-body">
          <div style="margin:6px;">
            <a data-toggle="collapse" data-parent="#accordion" href="#collapseOne" onclick="javascript:setFontSize();" aria-expanded="true" aria-controls="collapseOne">
              正文字号大小
            </a>
          </div>
          <div id="collapseOne" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingOne">
          <div class="panel-body">
            您已调整页面字体大小
          </div>
        </div>
      


          <div style="margin:6px;">
            <a data-toggle="collapse" data-parent="#accordion" href="#collapseTwo" onclick="javascript:setBackground();" aria-expanded="true" aria-controls="collapseTwo">
              夜间护眼模式
            </a>
        </div>
          <div id="collapseTwo" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingTwo">
          <div class="panel-body">
            夜间模式已经开启，再次单击按钮即可关闭 
          </div>
        </div>

        <div>
            <a data-toggle="collapse" data-parent="#accordion" href="#collapseThree" aria-expanded="true" aria-controls="collapseThree">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;关 于&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a>
        </div>
         <div id="collapseThree" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingThree">
          <div class="panel-body">
            Gary Wu
          </div>
          <div class="panel-body">
            Copyright © 2018 Gary Wu All Rights Reserved.
          </div>
        </div>
      </div>


      <hr style="margin-top:0px; margin-bottom:0px; width:80%; border-top: 1px solid #000;">
      <hr style="margin-top:2px; margin-bottom:0px; width:80%; border-top: 3px solid #000;">
      <div class="modal-footer">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
      </div>
    </div>
  </div>
</div>
  
  <a id="rocket" href="#top" class=""></a>
  <script type="text/javascript" src="/js/totop.js?v=1.0.0" async=""></script>
  
    <a id="menu-switch"><i class="fa fa-bars fa-lg"></i></a>
  
</body>
</html>